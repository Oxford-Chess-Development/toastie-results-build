(this["webpackJsonptoastie-results"]=this["webpackJsonptoastie-results"]||[]).push([[0],{10:function(e,t,n){e.exports={container:"home_container__1Uj13",section:"home_section__1RrkC",title:"home_title__1fMaE",announcements:"home_announcements__3hzqx",tableAnnounce:"home_tableAnnounce__1fX3a",tournaments:"home_tournaments__2sp_F",sectionHeader:"home_sectionHeader__29bWV",notificationRow:"home_notificationRow__Vijgj",expando:"home_expando__3ZujP",tournamentLink:"home_tournamentLink__23A_D",iconLink:"home_iconLink__1VqvH",lightBox:"home_lightBox__3aKEN",lightBoxContent:"home_lightBoxContent__oyxPJ",lightBoxTitle:"home_lightBoxTitle__1fMfI",dateTime:"home_dateTime__2bkz7",connected:"home_connected__2PQfY",disconnected:"home_disconnected__2Dr6p",new:"home_new__2ecUP"}},107:function(e,t,n){e.exports=n.p+"static/media/watch.ddf443c3.svg"},108:function(e,t,n){e.exports=n.p+"static/media/twitch.e1f7813a.svg"},109:function(e,t,n){e.exports=n.p+"static/media/youtube.46bc6904.svg"},12:function(e,t,n){e.exports={container:"streams_container__2JvcN",streamHeader:"streams_streamHeader__DKPjP",streamContainer:"streams_streamContainer__2IUUF",player:"streams_player__2DTT5",twitchChat:"streams_twitchChat__46a4m","move-to-corner":"streams_move-to-corner__HBHbb",chat:"streams_chat__34Cjy",footer:"streams_footer__1nnZ3",twitchPlayer:"streams_twitchPlayer__3qnZh"}},147:function(e,t,n){e.exports=n(352)},152:function(e,t,n){},19:function(e,t,n){e.exports={th:"crosstable_th__pj-Am",round:"crosstable_round__3EoJh",headerCell:"crosstable_headerCell__1aQ1w",tr:"crosstable_tr__3f5JF"}},197:function(e,t){},20:function(e,t,n){e.exports={container:"chesscom_container__vhkD8",wrapper:"chesscom_wrapper__35uxX",boardlabel:"chesscom_boardlabel__394gP",boardLabel:"chesscom_boardLabel__2ThNI",gameViewWrapper:"chesscom_gameViewWrapper__1ninU",board:"chesscom_board__2DH3-","fade-in":"chesscom_fade-in__13dOU",row:"chesscom_row__dxX_z",square:"chesscom_square__HiFz4",W:"chesscom_W__3aJdG",B:"chesscom_B__2iwwI",null:"chesscom_null__1h49B",active:"chesscom_active__GV4qN",loading:"chesscom_loading__W8sFc",spin:"chesscom_spin__3DATj"}},206:function(e,t,n){},221:function(e,t,n){},25:function(e,t,n){e.exports={header:"header_header__he_1K",buttonContainer:"header_buttonContainer__2xYiA",nameWrapper:"header_nameWrapper__1bAW5",button:"header_button__2n59F",installer:"header_installer__3DfuB",icons:"header_icons__1W-ol",logoWrapper:"header_logoWrapper__3v8Kd",name:"header_name__31AWy"}},343:function(e,t){},352:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(28),i=n.n(o),c=(n(152),n(13)),l=n(26),s=n(35),u=n(4),m=(n(57),n(53)),d=n.n(m),h=n(54),f=n(134),v=n.n(f),p=function(){};console.log("isDev",!1);var b=h.a;d.a.defaults.baseURL=b;function g(e){return e=Object.assign(e,{method:"GET"}),d()(e).then((function(e){return e.data})).catch((function(e){var t;throw console.error(e),e.response&&p([e.response.status,e.response.statusText,":","/"+(null===(t=e.response.config.url)||void 0===t?void 0:t.split("/").pop())].join(" ")),e}))}var E=v()(b);var w=n(9),y=n.n(w);function _(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],i=n[1],l=Object(a.useCallback)((function(){return g({url:"tournament/".concat(e.id,"/fetchRounds")}).then(i)}),[e.id,i]);Object(a.useEffect)((function(){l()}),[l]);for(var s=[],m="Infinity"===e.settings.totalRounds?1:e.settings.totalRounds,d=1;d<m+1;d++){var h=o[d]?new Date(o[d]).toString():"";s.push(r.a.createElement(c.b,{className:["header-button",y.a.pairingRound,e.round===d?y.a.roundSelected:"",d>e.status.round?y.a.nullRound:""].join(" "),to:"/".concat(e.id,"/").concat(e.section,"/").concat(d),key:["round",d].join(".")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h4",null,"Round ",d),o[d]?r.a.createElement("h5",null,h.substring(0,11)+h.substring(16,21)):null)))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement("div",{className:["button-list",y.a.buttonList].join(" ")},r.a.createElement(c.b,{to:"/".concat(e.id,"/pairings"),className:["header-button","pairings"===e.section?"selected":""].join(" ")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h2",null,"Pairings"))),r.a.createElement(c.b,{to:"/".concat(e.id,"/standings"),className:["header-button","standings"===e.section?"selected":""].join(" ")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h2",null,"Standings"))),r.a.createElement(c.b,{to:"/".concat(e.id,"/stats"),className:["header-button","stats"===e.section?"selected":""].join(" ")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h2",null,"Stats"))),e.settings.streamURL?r.a.createElement(c.b,{to:"/".concat(e.id,"/tv"),className:["header-button","stream-link","stats"===e.section?"selected":"","twitch-link"].join(" ")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h2",null,"Commentary"))):null)),"pairings"===e.section||"standings"===e.section?r.a.createElement("section",null,r.a.createElement("div",{className:"button-list"},s)):null)}var j=n(44),O=n(19),k=n.n(O),N=["score","gamePoints","rating","name"];function x(e){var t=Object(a.useMemo)((function(){return{pre:{id:{mobile:"Rank",name:"",className:"blank",sort:!1,value:function(){return 0},postConvert:function(e,t){return(1+t).toString()}},name:{name:"Name",className:"playerName",id:function(e){return e.id},sort:function(e,t){return e>t?1:e<t?-1:0},value:function(e,t,n){return"individual"===n.competitors?[e.firstName,e.lastName].join(" "):e.firstName}},rating:{name:"Rating",className:"locked",value:function(e){return e.rating},show:function(e,t,n){return n.showRatings}}},roundColumn:{name:function(e,t){return e.slice(-1)},className:function(e,t,n){return"*"===e?"edit":""===e?"unset":"locked"},value:function(){},convert:function(e,t,n){if(""===e)return"";if("*"===e)return"*";var a,r=parseFloat(e);return a=.5===r?"\xbd":r.toString(),e.endsWith("b")&&(a+="b"),a},sort:function(e,t){if(e===t)return 0;if(""===e)return-1;if(""===t)return-1;if("*"===e)return 1;if("*"===t)return-1;var n=[parseInt(e),parseInt(t)],a=n[0],r=n[1];return e.toString().endsWith("b")&&(a-=.001),t.toString().endsWith("b")&&(r-=.001),r-a}},post:{score:{mobile:"Match Points",name:"MP",className:"locked",value:function(t){return t.histories.slice(1,e.round+1).reduce((function(e,t){return t?e+=t.match||0:e}),0)},convert:function(e,t){return Math.floor(e)===e?e.toFixed():.5===e?"\xbd":Math.floor(e).toFixed()+"\xbd"}},gamePoints:{mobile:"Game Points",name:"GP",className:"locked",value:function(t){return t.histories.slice(1,e.round+1).reduce((function(e,t){return t?e+=t.game||0:e}),0)},convert:function(e){return e.toFixed(1)}},gameDifference:{mobile:"Game Point Difference",name:"G. +/-",className:"locked",value:function(t){var n=0,a=0;return t.histories.slice(1,e.round+1).forEach((function(e){e&&(n+=e.game||0,a+=e.played)})),2*n-a},convert:function(e){return e?e>0?"+"+e.toFixed(1):e.toFixed(1):""}},matchPercentage:{mobile:"Match Point Percentage",name:"M. %",className:"rating",value:function(e,t){var n=0,a=0;return e.histories.slice(1,t+1).forEach((function(e){e&&(n+=e.match||0,a+=1)})),0===a?-1:100*n/a},convert:function(e){return e.toFixed()}},gamePercentage:{mobile:"Game Point Percentage",name:"G. %",className:"rating",value:function(e,t){var n=0,a=0;return e.histories.slice(1,t+1).forEach((function(e){e&&(n+=e.game||0,a+=e.played||0)})),0===a?-1:100*n/a},convert:function(e){return e.toFixed()}},played:{mobile:"Played",name:"P",className:"locked",value:function(t){return t.histories.slice(1,e.round+1).reduce((function(e,t){return t?e+=t.played||0:e}),0)},convert:function(e){return e.toString()}},performanceRating:{mobile:"Performance Rating",name:"Perf",className:"rating",value:function(e){return e.performanceRating},convert:function(e){return e.toFixed()},show:function(e,t,n){return n.showRatings}},ratingDifference:{mobile:"Performance Rating Difference",name:"P. +/-",className:"rating",value:function(e){return e.performanceRating?e.performanceRating-e.rating:0},convert:function(e){return e?e>0?"+"+e.toString():e.toString():""},show:function(e,t,n){return n.showRatings}},expectedScore:{mobile:"Expected Score",name:"Expected",className:"rating",value:function(e){return e.expectedScore},convert:function(e,t){return e.toFixed(1)+" / "+t.played},show:function(e,t,n){return n.showRatings}},expectedDifference:{mobile:"Score to Expected",name:"E. +/-",className:"rating",value:function(e){return e.score-e.expectedScore},convert:function(e){return"undefined"===typeof e?"":e>0?"+"+e.toFixed(2):e.toFixed(2)},show:function(e,t,n){return n.showRatings}}}}}),[e.round]),n=Object(a.useMemo)((function(){return e.status.round>e.settings.totalRounds||"Infinity"===e.settings.totalRounds?e.status.round:e.settings.totalRounds}),[e.status.round,e.settings.totalRounds]),o=Object(a.useMemo)((function(){for(var e=[],t=1;t<=n;t++)e.push("round."+t.toString());return e}),[n]),i=Object(a.useMemo)((function(){return[].concat(Object(j.a)(Object.keys(t.pre)),Object(j.a)(o),Object(j.a)(Object.keys(t.post)))}),[o]).filter((function(n,a){var r=t.pre[n]||t.post[n];return!r||!(r.show&&!r.show(null,a,e.settings))})),c=Object(a.useCallback)((function(e,t){return i.includes(t)?e[0]!==t?[t,0]:[t,e[1]+1]:["",0]}),[i]),l=Object(a.useReducer)(c,["score",0]),s=Object(u.a)(l,2),m=s[0],d=s[1],h=Object(a.useCallback)((function(t){for(var a=[""],r=1;r<=n;r++)r>e.round||!t.histories[r]?a[r]="":(null===t.histories[r].match||void 0===t.histories[r].match?a[r]="*":a[r]=t.histories[r].match.toString(),"bye"===t.histories[r].id&&(a[r]+="b"));return a.slice(1)}),[n,e.round]),f=Object(a.useMemo)((function(){for(var n=[],a=function(a){var r=e.players[a];if("bye"===r.id)return"continue";for(var o=[],i=0,c=Object.entries(t.pre);i<c.length;i++){var l=Object(u.a)(c[i],2),s=(l[0],l[1]);s.show&&!s.show(r,a,e.settings)||o.push([s.value(r,a,e.settings),s,r])}for(var m=h(r).map((function(e){return[e,t.roundColumn,r]})),d=[],f=0,v=Object.entries(t.post);f<v.length;f++){var p=Object(u.a)(v[f],2),b=(p[0],p[1]);b.show&&!b.show(r,a,e.settings)||d.push([b.value(r,a,e.settings),b,r])}var g=[].concat(o,Object(j.a)(m),d);n.push(g)},o=0;o<e.players.length;o++)a(o);var c=function(e,t){return t-e},l=m[0].startsWith("round")?t.roundColumn:t.pre[m[0]]||t.post[m[0]];if(l&&!1!==l.sort){l.sort&&(c=l.sort);var s=i.indexOf(m[0]);-1!==s&&(n=n.sort((function(e,n){var a;a=m[1]%2?c(n[s][0],e[s][0]):c(e[s][0],n[s][0]);for(var r=N.slice(0);0===a&&r[0];){var o=r.shift(),l=i.indexOf(o);if(!(l===s||l<0)){var u=(t.pre[o]||t.post[o]).sort||c;a=m[1]%2?u(n[l][0],e[l][0]):c(e[l][0],n[l][0])}}return a})))}return n.map((function(t,n){return r.a.createElement("tr",{key:"row."+n,className:k.a.tr},t.map((function(t,a){var o=Object(u.a)(t,3),c=o[0],l=o[1],s=o[2],m=c?c.toString():"";l.convert?m=l.convert(c,s,e.settings):l.postConvert&&(m=l.postConvert(m,n)),"undefined"!==typeof m&&""!==m||(m="\u200b");var d="function"===typeof l.className?l.className(m,a,e.settings):l.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("th",{className:[k.a.cell,k.a.headerCell].join(" "),key:["cellHeader",a].join(".")},r.a.createElement("div",null,l.mobile?l.mobile:"function"===typeof l.name?l.name((i[a]||"").toString(),a):l.name)),r.a.createElement("th",{key:["cellBody",a].join(".")},r.a.createElement("div",{id:l.id?l.id(s,a):void 0,key:[c,a].join("."),className:[k.a.cell,d,k.a[d]].join(" ")},m)))})))}))}),[e.players,e.settings,h,m]);return r.a.createElement("section",null,r.a.createElement("table",{className:["download-table full-width",k.a.table,"standings"].join(" ")},r.a.createElement("thead",{className:k.a.headers},r.a.createElement("tr",null,i.map((function(e,n){var a=e.startsWith("round")?t.roundColumn:t.pre[e]||t.post[e];return r.a.createElement("th",{scope:"column",key:["column",n].join("."),className:[k.a.th,e.startsWith("round")?k.a.round:""].join(" "),id:e,onClick:function(){return d(e)}},r.a.createElement("div",{className:[k.a.cell,k.a.headerCell].join(" ")},"function"===typeof a.name?a.name(e,n):a.name))})))),r.a.createElement("tbody",null,f)))}var S=n(52),M=n.n(S),C=n(24),P=n.n(C),R=n(137),L=n.n(R),D=n(138),T=n.n(D);n(206);var A=n(3),W=["score","gamePoints","rating"];function F(e){var t=Object(a.useMemo)((function(){return{rating:{mobile:"Rating",name:"Rating",value:function(e){return e.rating},show:function(e){return!1}},score:{mobile:"Match Points",name:"MP",value:function(e,t){return e.histories.slice(1,t+1).reduce((function(e,t){return t&&"number"===typeof t.match?e+=t.match||0:e}),0)}},gamePoints:{mobile:"Game Points",name:"GP",value:function(e,t){return e.histories.slice(1,t+1).reduce((function(e,t){return t&&"number"===typeof t.match?e+=t.game||0:e}),0)},show:function(e){return 1!==e.gamePointTotal}},gameDifference:{mobile:"Game Point Difference",name:"G. +/-",value:function(e,t){var n=0,a=0;return e.histories.slice(1,t+1).forEach((function(e){e&&(n+=e.game||0,a+=null!==n?e.played:0)})),2*n-a},show:function(e){return 1!==e.gamePointTotal}},matchPercentage:{mobile:"Match Point Percentage",name:"M. %",value:function(e,t){var n=0,a=0;return e.histories.slice(1,t+1).forEach((function(e){e&&(n+=e.match||0,a+=1)})),0===a?-1:100*n/a}},gamePercentage:{mobile:"Game Point Percentage",name:"G. %",value:function(e,t){var n=0,a=0;return e.histories.slice(1,t+1).forEach((function(e){e&&(n+=e.game||0,a+=e.played||0)})),0===a?-1:100*n/a},show:function(e){return 1!==e.gamePointTotal}},performanceRating:{mobile:"Performance Rating",name:"Perf",value:function(e){return e.performanceRating},show:function(e){return!1}},ratingDifference:{mobile:"Performance Rating Difference",name:"P. +/-",value:function(e){return e.performanceRating?e.performanceRating-e.rating:0},show:function(e){return!1}},expectedScore:{mobile:"Expected Score",name:"Expected",value:function(e,t){return e.histories.slice(1,t+1).reduce((function(e,t){return t&&"number"===typeof t.expected?e+=t.expected||0:e}),0)},show:function(e){return!1}},expectedDifference:{mobile:"Score to Expected",name:"E. +/-",value:function(e,t){return e.histories.slice(1,t+1).reduce((function(e,t){return t&&"number"===typeof t.expected&&"number"===typeof t.match?e+=t.match-t.expected||0:e}),0)},show:function(e){return e.showRatings}}}}),[]),n=Object(a.useMemo)((function(){return e.status.round>e.settings.totalRounds||"Infinity"===e.settings.totalRounds?e.status.round:e.settings.totalRounds}),[e.status.round,e.settings.totalRounds]),o=Object(a.useState)([]),i=Object(u.a)(o,2),c=i[0],l=i[1],s=Object(a.useMemo)((function(){for(var a={},r=c.slice(0),o=e.players.filter((function(e){return"bye"!==e.id})),i=0;i<o.length;i++)for(var s=o[i],m=0,d=Object.entries(t);m<d.length;m++){var h=Object(u.a)(d[m],2),f=h[0],v=h[1];a[f]||(a[f]=[]);for(var p=[],b=1;b<n+1;b++)r[b-1]=b.toString(),b>=s.histories.length?p.push(void 0):p[b]=v.value(s,b);a[f][i]=p}return l(r),a}),[e.players,t,n]),m=Object(a.useCallback)((function(n,a){for(var r=n[0].length,o=[],i=[],c=function(a){o[a]=[];for(var r=0;r<n.length;r++)o[a][r]={meta:e.players[r],value:n[r][a]};o[a]=o[a].sort((function(e,n){if(void 0===e.value)return 1;if(void 0===n.value)return-1;if(e.value!==n.value)return n.value-e.value;for(var r=0,o=W.slice(0);0===r&&o[0];){var i=o.shift(),c=t[i],l=c.value(e.meta,a),s=c.value(n.meta,a);r=l===s?0:(s||0)-(l||0)}return r})),i[a]=o[a].map((function(e){return void 0!==e.value?[e.meta.id,e.value]:["",void 0]}))},l=1;l<r;l++)c(l);for(var s=[],u=0;u<n.length;u++){s[u]=[];for(var m=function(t){var n=e.players[u],r=i[t].findIndex((function(e){return e[0]===n.id}));s[u][t-1]={meta:n.firstName+" "+n.lastName,value:n.histories[t]&&"number"===typeof n.histories[t].match&&r>=0?a?-r-1:i[t][r][1]:void 0}},d=1;d<r;d++)m(d)}return s}),[e.players,t]),d=Object(a.useState)([]),h=Object(u.a)(d,2),f=h[0],v=h[1],p=Object(a.useState)(!0),b=Object(u.a)(p,2),g=b[0],E=b[1],w=Object(a.useState)(1),_=Object(u.a)(w,2),j=_[0],O=_[1],k=Object(a.useState)("score"),N=Object(u.a)(k,2),x=N[0],S=N[1],C=Object(a.useMemo)((function(){return Object.entries(t).map((function(t,n){var a=Object(u.a)(t,2),o=a[0],i=a[1];return i.show&&!i.show(e.settings)?null:r.a.createElement("div",{className:["header-button",y.a.pairingRound,x===o?y.a.roundSelected:""].join(" "),onClick:function(){return S(o)},key:["round",n].join(".")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h4",null,i.mobile)))}))}),[t,x,S,e.settings]),R=Object(a.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:["header-button",y.a.pairingRound,g?y.a.roundSelected:""].join(" "),onClick:function(){return E(!0)},key:["round","order"].join(".")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h4",null,"Ranking"))),r.a.createElement("div",{className:["header-button",y.a.pairingRound,g?"":y.a.roundSelected].join(" "),onClick:function(){return E(!1)},key:["round","unorder"].join(".")},r.a.createElement("div",{className:"full-text"},r.a.createElement("h4",null,"Points"))))}),[g,E]),D=Object(a.useCallback)((function(e,t){return[e,g?"#"+(-Number(t)).toString():""].join("\n")}),[g]),F=Object(a.useMemo)((function(){var t=x;if(!s[t])return null;for(var a=m(s[t],g),o=Math.ceil(a.length/2),i=function(t){if(a.reduce((function(n,a,r){var o,i;return t<e.status.round&&(null===(o=a[t-1])||void 0===o||o.value),"number"===typeof(null===(i=a[t])||void 0===i?void 0:i.value)?n+=1:n}),0)>o)return O(t),"break"},l=n;l>=0;l--){if("break"===i(l))break}var u=a.sort((function(e,t){var n,a;return((null===(n=t[j])||void 0===n?void 0:n.value)||-1/0)-((null===(a=e[j])||void 0===a?void 0:a.value)||-1/0)})).map((function(e,t){var n,a,o,i,c,l,s,u;if(!g)return r.a.createElement(r.a.Fragment,null,null===(n=e[j])||void 0===n?void 0:n.meta);if(!j)return r.a.createElement(r.a.Fragment,null,null===(a=e[j])||void 0===a?void 0:a.meta);if(void 0===(null===(o=e[j])||void 0===o?void 0:o.value)||void 0===(null===(i=e[j])||void 0===i?void 0:i.value))return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:["chartArrow"].join(" ")},r.a.createElement("div",null,"\u200b"),r.a.createElement("div",null,"\u200b")),null===(c=e[j])||void 0===c?void 0:c.meta);var m=(null===(l=e[j])||void 0===l?void 0:l.value)-(null===(s=e[j-1])||void 0===s?void 0:s.value),d=m>0?r.a.createElement(A.d,null):m<0?r.a.createElement(A.c,null):r.a.createElement(A.p,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:["chartArrow",m>0?"chartPositive":m<0?"chartNegative":"chartNeutral"].join(" ")},r.a.createElement("div",null,Math.abs(m)||"\u200b"),d),null===(u=e[j])||void 0===u?void 0:u.meta)}));return v(u),g&&a.push([{meta:"placeholder",value:-a.length}]),L()({tooltipFnc:D}),P.a.plugins.tooltip({tooltipFnc:D}),T()(),r.a.createElement(M.a,{data:{labels:c,series:a},options:{fullWidth:!0,divisor:.5,axisY:{offset:25,onlyInteger:g,labelInterpolationFnc:function(e){return g?e?"#"+(-e).toString():"":e}},height:30*s[t].length+20,plugins:[P.a.plugins.tooltip({tooltipFnc:D}),P.a.plugins.ctAxisTitle({axisX:{axisTitle:"Round",axisClass:"ct-axis-title",offset:{x:.4*window.innerWidth,y:0},textAnchor:"middle"}})]},type:"Line"})}),[s,x,j,m,c,n,g,D,e.status.round]),I=Object(a.useMemo)((function(){for(var e,t,n="",a="p".charCodeAt(0);a<"z".charCodeAt(0)+1;a++){var r=(e=0,t=65536,Math.floor(Math.random()*(t-e+1)+e)).toString(16);n+=".ct-series.ct-series-".concat(String.fromCharCode(a)," {\n\t\t\t\tstroke: #").concat("0".repeat(6-r.length)).concat(r,";\n\t\t\t}"),n+=".ct-series.ct-series-".concat(String.fromCharCode(a)," > path {\n\t\t\t\tstroke: #").concat("0".repeat(6-r.length)).concat(r,";\n\t\t\t}")}return n}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement("div",{className:"button-list"},C)),r.a.createElement("section",null,r.a.createElement("div",{className:"button-list"},R)),r.a.createElement("section",null,r.a.createElement("style",null,I),r.a.createElement("div",{className:y.a.description},"This chart shows the rankings for each team throughout the rounds, beginning with round 1 on the left.",r.a.createElement("br",null),"Switch to 'Points' above to see each team's points progression.",r.a.createElement("br",null),"Hover to view team names."),r.a.createElement("div",{className:"chartContainer"},F,g?r.a.createElement("div",{className:"chartKey",style:{gridTemplateRows:"repeat(".concat(f.length,", 30px)"),left:"calc(".concat((j+0)/(n-1)," * 100%)")}},f.map((function(e,t){return r.a.createElement("div",{key:["id",t].join("."),className:"playerLabel"},r.a.createElement("hr",{style:{width:.8/(n+2)*(window.innerWidth-60)}}),r.a.createElement("div",null,e))}))):null)))}var I=function(){return r.a.createElement("div",{className:"container",style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("img",{src:"/logo512.png",style:{width:256,height:256},alt:"Not-Found"}),r.a.createElement("div",null,"PAGE NOT FOUND"))},B=n(37),U=n.n(B),H=n(143),q=n(14),z=n.n(q),G=n(30),J=n(5),V=n(6),X=n(139),Y=n.n(X),K=/chess\.com\/(?:live#tm=|club\/matches\/live\/(?:[a-z-]+\/)?)([0-9]+)/,Q=/(?:https:\/\/)?(?:www.)?(?:(twitch.tv|youtube.com))\/(.*)/,Z=/(?:https:\/\/)?(?:www.)?([a-z.]*)\/?(?:.*)?/,$=/[a-z0-9]*/gi,ee=[/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i],te=n(20),ne=n.n(te),ae=(n(221),n(142)),re=n(42),oe=n(8),ie=n(7),ce=n(140),le=n.n(ce),se=n(141),ue=n.n(se),me=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],de=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props.headerInfo;if(!e)return null;var t=e.Link,n=e.White,a=e.Black,o=e.WhiteTeam,i=e.BlackTeam,c=e.BlackElo,l=e.WhiteElo,s=e.Round,u=e.Game,m=e.Result,d=e.Event,h=e.Site,f=e.Date.split("."),v=f&&"".concat(f[2]," ").concat(me[new Number(f[1])-1]," ").concat(f[0]),p=d&&h?" ".concat(d," | ").concat(h," | ").concat(m," "):null,b=v&&s&&u?" ".concat(v," | Round ").concat(s," | Game ").concat(u," "):null,g={fontWeight:"bold",marginBottom:"0.25rem"},E={fontSize:"14px"};return r.a.createElement("div",{className:"pgnHeader",style:{padding:"5px"}},t?r.a.createElement("a",{href:t,rel:"noopener noreferrer",target:"_blank",style:g},n," (",l,") vs. ",a," (",c,")"):r.a.createElement("div",{style:g},n," (",l,") vs. ",a," (",c,")"),o||i?r.a.createElement("div",{style:g},o," vs. ",i):null,r.a.createElement("div",{style:E},p),r.a.createElement("div",{style:E},b))}}]),n}(r.a.Component),he=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleDownload=function(){var t=e.props.onDownload;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handleDownload,style:this.props.iconStyles},r.a.createElement(A.l,null))}}]),n}(r.a.Component),fe=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handlePreviousMove=function(){var t=e.props.onPreviousMove;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handlePreviousMove,style:this.props.iconStyles},r.a.createElement(A.a,null))}}]),n}(r.a.Component),ve=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleNextMove=function(){var t=e.props.onNextMove;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handleNextMove,style:this.props.iconStyles},r.a.createElement(A.b,null))}}]),n}(r.a.Component),pe=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleLastMove=function(){var t=e.props.onLastMove;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handleLastMove,style:this.props.iconStyles},r.a.createElement(A.u,null))}}]),n}(r.a.Component),be=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleReset=function(){var t=e.props.onReset;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handleReset,style:this.props.iconStyles},r.a.createElement(A.t,null))}}]),n}(r.a.Component),ge=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleFlipBoard=function(){var t=e.props.onFlipBoard;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props.iconStyles,t=JSON.parse(JSON.stringify(e));return r.a.createElement("div",{onClick:this._handleFlipBoard,style:t},r.a.createElement(A.x,null))}}]),n}(r.a.Component),Ee=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handlePlay=function(){var t=e.props.onPlay;"function"===typeof t&&t()},e}return Object(V.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{onClick:this._handlePlay,style:this.props.iconStyles},this.props.isPlaying?r.a.createElement(A.q,null):r.a.createElement(A.r,null))}}]),n}(r.a.Component),we=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onDownload,n=e.onNextMove,a=e.onPreviousMove,o=e.onReset,i=e.onFlipBoard,c=e.width,l=e.onLastMove,s=e.onPlay,u=e.isPlaying,m=e.fenMove,d={cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:c,paddingTop:"10px",paddingBottom:"5px"},h={paddingLeft:"20px"};return r.a.createElement("div",{className:"pgnViewerFooter",style:d},!m&&r.a.createElement(be,{onReset:o,iconStyles:h}),!m&&r.a.createElement(fe,{onPreviousMove:a,iconStyles:h}),!m&&r.a.createElement(ve,{onNextMove:n,iconStyles:h}),!m&&r.a.createElement(pe,{onLastMove:l,iconStyles:h}),!m&&r.a.createElement(Ee,{onPlay:s,iconStyles:h,isPlaying:u}),r.a.createElement(ge,{onFlipBoard:i,iconStyles:h}),r.a.createElement(he,{onDownload:t,iconStyles:h}))}}]),n}(r.a.Component),ye=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;Object(J.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._handleChangeMove=function(){var t=e.props,n=t.onChangeMove,a=t.moveIndex;"function"===typeof n&&n(a)},e}return Object(V.a)(n,[{key:"render",value:function(){var e=this.props,t=e.move,n=e.moveIndex,a=e.currentIndex,o=n%2!==0,i=Math.ceil(n/2)+".",c={cursor:"pointer",color:"black",display:"inline-block"};return a===n&&(c.fontWeight=700),r.a.createElement("span",{onClick:this._handleChangeMove,style:c},o&&i,"\xa0",t,"\xa0")}}]),n}(r.a.Component),_e=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(){var e;return Object(J.a)(this,n),(e=t.call(this)).moveList=Object(a.createRef)(),e}return Object(V.a)(n,[{key:"componentDidUpdate",value:function(e){if(this.props.moves){var t=e.moves||[];this.props.moves.length!==t.length&&this.moveList&&this.moveList.current&&(this.moveList.current.scrollTop=this.moveList.current.scrollHeight)}}},{key:"componentDidMount",value:function(){this.moveList&&this.moveList.current&&(this.moveList.current.scrollTop=this.moveList.current.scrollHeight)}},{key:"render",value:function(){var e=this.props,t=e.result,n=e.moves,a=e.currentIndex,o=e.onChangeMove,i=e.startAtMove,c=e.endAtMove,l=e.fenMove;return n?r.a.createElement("div",{className:"pgnViewerMoveList",ref:this.moveList},!l&&n.map((function(e,t){return t<i-1||t>c-1?null:r.a.createElement(ye,{onChangeMove:o,key:t,currentIndex:a,move:e,moveIndex:t+1})})),l&&r.a.createElement("div",null,l%2===0?"White":"Black"," to move"),r.a.createElement("span",{className:"bold"},t)):null}}]),n}(r.a.Component),je={base:{display:"flex",justifyContent:"center",flexDirection:"row"},wrapper:{width:500,background:"white"}},Oe=function(e){var t,n=JSON.parse(JSON.stringify(je)),a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;n[r.area][r.stylePair[0]]=r.stylePair[1]}}catch(o){a.e(o)}finally{a.f()}return n},ke=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e))._updateDimensions=function(){a.setState({windowWidth:window&&window.innerWidth})},a._makeIncreasingMoves=function(e){for(var t=e.numberOfMoves,n=e.reset,r=a.state,o=r.chess,i=r.moves,c=r.index,l=n?0:new Number(c),s=0;s<t;s++)o.move(i[l]),l++;a.setState({chess:o,index:l})},a._handleNextMove=function(){var e=a.state,t=e.moves,n=e.chess,r=e.index,o=e.endAtMove,i=new Number(r);i>=t.length||r===o||(n.move(t[i]),i++,a.setState({chess:n,index:i}))},a._handlePreviousMove=function(){var e=a.state,t=e.chess,n=e.index,r=e.startAtMove,o=new Number(n);o<=0||n===r||(t.undo(),o--,a.setState({chess:t,index:o}))},a._handleReset=function(){var e=a.state,t=e.chess,n=e.startAtMove;t.reset(),n?a._makeIncreasingMoves({numberOfMoves:n,reset:!0}):a.setState({chess:t,index:0})},a._handleLastMove=function(){var e=a.state,t=e.moves,n=e.index,r=e.endAtMove;if(!(n>=t.length||n===r)){var o=r?r-n:t.length-n;a._makeIncreasingMoves({numberOfMoves:o})}},a._handleFlipBoard=function(){a.setState({orientation:"w"===a.state.orientation?"b":"w"})},a._handlePlay=function(){var e=a.state,t=e.moves,n=(e.chess,e.index),r=e.isPlaying;r||(n>=t.length&&a._handleReset(),a._handleNextMove()),a.setState({isPlaying:!r})},a._handleChangeMove=function(e){var t=a.state,n=t.chess,r=t.index;if(e!==r)if(e<r){for(var o=0;o<r-e;o++)n.undo();a.setState({chess:n,index:e})}else{var i=e-r;a._makeIncreasingMoves({numberOfMoves:i})}},a._handleDownload=function(){var e=a.state,t=e.headerInfo,n=e.fenMove,r=e.chess,o=document.createElement("a"),i=n?r.fen():a.props.pgnInformation,c=n?"txt":"pgn",l=new Blob([i],{type:"text/plain"}),s=t.White.split(" ").pop(),u=t.Black.split(" ").pop();o.href=URL.createObjectURL(l),o.download="".concat(s,"_vs_").concat(u,"_").concat(t.Date,".").concat(c),o.click()},a.state={chess:null,moves:null,index:null,headerInfo:null,isPlaying:null,isLoaded:null,startAtMove:null,fenMove:null,endAtMove:null,windowWidth:window&&window.innerWidth,orientation:a.props.orientation},a}return Object(V.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.pgnInformation,t=new le.a,n=0,a=e.trim().replace(/\[/g,"");if(!a)return null;var r=a.split("]").map((function(e){return e.trim()}));t.load_pgn(e);for(var o=0;o<r.length-2;o++){var i=r[o].split(' "');i[1]?t.header(i[0].replace(/\"/g,""),i[1].replace(/\"/g,"")):t.header(i[0].replace(/\"/g,""))}var c=t.header(),l=t.history();t.reset();var s=2*c.StartAtMove-1,u=2*c.EndAtMove,m=c.Fen&&c.Fen.split(""),d=m&&"b"===m.pop(),h=m&&m.join(""),f=d?2*h:2*h-1;if(s)for(var v=0;v<s;v++)t.move(l[n]),n++;else if(m)for(var p=0;p<f;p++)t.move(l[n]),n++;if(this.props.startAtLatest)for(var b=0;b<l.length;b++)t.move(l[n]),n++;this.setState({chess:t,moves:l,index:n,startAtMove:s,endAtMove:u,fenMove:m?f:null,headerInfo:c}),this._updateDimensions(),window.addEventListener("resize",this._updateDimensions),window.addEventListener("load",this._updateDimensions),window.addEventListener("orientationchange",this._updateDimensions)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.isPlaying?this.timeoutID=setTimeout((function(){return e._handleNextMove()}),1e3):clearTimeout(this.timeoutID)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateDimensions),window.removeEventListener("load",this._updateDimensions),window.removeEventListener("orientationchange",this._updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.blackSquareColor,n=e.whiteSquareColor,a=e.width,o=e.backgroundColor,i=e.showCoordinates,c=this.state,l=c.chess,s=c.moves,u=c.index,m=c.headerInfo,d=c.orientation,h=c.isPlaying,f=c.windowWidth,v=c.startAtMove,p=c.endAtMove,b=c.fenMove,g=function(e){var t=e.windowWidth,n=e.backgroundColor,a=e.defaultWidth,r=t&&t<768,o=r?"100%":a,i=r?"column":"row",c=[];c.push({area:"base",stylePair:["width",o]}),c.push({area:"base",stylePair:["flexDirection",i]}),c.push({area:"wrapper",stylePair:["width",o]}),c.push({area:"wrapper",stylePair:["background",n]});var l=Oe(c);return{width:o,isMobile:r,baseStyles:l.base,wrapperStyles:l.wrapper}}({windowWidth:f,backgroundColor:o,defaultWidth:a}),E=(g.baseStyles,g.wrapperStyles),w=g.isMobile,y=g.width,_=function(e,t){var n=(t-1)%2===0,a=null;if(e&&t)switch(e[t-1]){case"O-O":a=n?"g1":"g8";break;case"O-O-O":a=n?"c1":"c8";break;default:a=e[t-1].match(/[a-z][1-8]/gm)[0]}return a}(s,u);return r.a.createElement("div",{className:"pgnWrapper",style:E},m&&r.a.createElement(de,{headerInfo:m,width:y}),r.a.createElement("div",{className:"pgnViewerMain",onWheel:function(e){e.stopPropagation()}},r.a.createElement(ue.a,{blackSquareColour:t,fen:l&&l.fen()||"start",orientation:d,showCoordinates:i,activeSquare:_,style:{border:"2px solid lightgrey"},whiteSquareColour:n,width:w?y:2/3*y,height:w?y:2/3*y}),!w&&r.a.createElement(_e,{onChangeMove:this._handleChangeMove,currentIndex:u,moves:s,width:1/3*y,startAtMove:v,endAtMove:p,fenMove:b,result:m?m.Result:null})),r.a.createElement(we,{isPlaying:h,onPlay:this._handlePlay,onDownload:this._handleDownload,onFlipBoard:this._handleFlipBoard,onNextMove:this._handleNextMove,onPreviousMove:this._handlePreviousMove,onReset:this._handleReset,fenMove:b,onLastMove:this._handleLastMove,width:y}),w&&r.a.createElement(_e,{onChangeMove:this._handleChangeMove,currentIndex:u,moves:s,width:y,startAtMove:v,endAtMove:p,fenMove:b,result:m?m.Result:null}))}}]),n}(r.a.Component),Ne=function(e){Object(oe.a)(n,e);var t=Object(ie.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).makeViewer=function(e){var t=e.pgnInformation,n=a.props,o=n.blackSquareColor,i=n.whiteSquareColor,c=n.orientation,l=n.width,s=n.backgroundColor,u=n.showCoordinates,m=n.startAtLatest;return r.a.createElement(ke,{pgnInformation:t,blackSquareColor:o,whiteSquareColor:i,width:l,orientation:c,backgroundColor:s,showCoordinates:u,startAtLatest:m})},a.createInnerHtml=function(){return{__html:a.props.children}},a.additionalHTMLModification=function(){var e=a.props,t=e.nodeToModify,n=e.nodeModification,r=i.a.findDOMNode(Object(re.a)(a)).querySelectorAll(t);if("function"!==typeof n||!t)return null;for(var o=0;o<r.length;o++)n(r[o])},a.setPgn=function(e){for(var t=i.a.findDOMNode(Object(re.a)(a)).querySelectorAll("pgn"),n=0;n<t.length;n++)i.a.render(a.makeViewer({pgnInformation:e[n]}),t[n])},a.state={pgns:null},a}return Object(V.a)(n,[{key:"componentDidMount",value:function(){for(var e=i.a.findDOMNode(this).querySelectorAll("pgn"),t=[],n=0;n<e.length;n++)t.push(e[n].innerHTML.slice(0));this.setState({pgns:t}),this.additionalHTMLModification(),this.setPgn(t)}},{key:"componentDidUpdate",value:function(){this.additionalHTMLModification(),this.setPgn(this.state.pgns)}},{key:"render",value:function(){var e=this.props,t=e.innerHTML,n=e.children;return r.a.createElement("div",null,t&&r.a.createElement("div",{dangerouslySetInnerHTML:this.createInnerHtml()}),!t&&r.a.createElement("div",null,this.makeViewer({pgnInformation:n})))}}]),n}(r.a.Component);Ne.defaultProps={backgroundColor:"#e1e5ed",blackSquareColor:"steelblue",orientation:"w",showCoordinates:!0,whiteSquareColor:"aliceblue",width:600};var xe=Ne,Se=new Y.a({queue:!0});function Me(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(G.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){Se.dispatch(Se.getTeamLiveMatchBoard,(function(t,n){if(n)return a(n);e(t.body)}),[t,n])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(G.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Se.dispatch(Se.getTeamLiveMatch,(function(t,a){if(a)return n(a);e(t.body)}),[t])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}new Map([["p",r.a.createElement(A.i,null)],["n",r.a.createElement(A.h,null)],["b",r.a.createElement(A.e,null)],["r",r.a.createElement(A.k,null)],["q",r.a.createElement(A.j,null)],["k",r.a.createElement(A.g,null)]]);function Le(e){var t=Object(a.useState)(e.enforceBoards||20),n=Object(u.a)(t,2),o=n[0],i=n[1],c=Object(a.useReducer)((function(e,t){var n=e.slice(0);return n[t.board]={boardScores:t.boardScores,games:t.games},n}),[]),l=Object(u.a)(c,2),m=l[0],d=l[1],h=Object(a.useState)(0),f=Object(u.a)(h,2),v=f[0],p=f[1],b=Object(a.useReducer)((function(e,t){return e[t.i]=t.name,e}),["",""]),g=Object(u.a)(b,2),E=g[0],w=g[1],y=Object(a.useReducer)((function(e,t){var n=Object.assign({},e);return n[t.player.username.toLowerCase()]=t.team,n}),{}),_=Object(u.a)(y,2),j=_[0],O=_[1],k=Object(a.useState)(!1),N=Object(u.a)(k,2),x=N[0],S=N[1],M=Object(a.useReducer)((function(e,t){var n=e.slice(0);return n[t.board]=t.set,n}),[]),C=Object(u.a)(M,2),P=C[0],R=C[1],L=Object(a.useState)(0),D=Object(u.a)(L,2),T=D[0],A=D[1],W=Object(a.useCallback)(Object(G.a)(z.a.mark((function t(){var n,a,r,o,c,l;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.matchURL.match(K)){t.next=3;break}return t.abrupt("return",console.error("Invalid URL: ",e.matchURL));case 3:return a=Number(n[1]),t.prev=4,t.next=7,Pe(a);case 7:for((r=t.sent).boards&&i(r.boards),"finished"===r.status&&S(!0),o=function(){var e=l[c],t=E.findIndex((function(t){return!t||t===e.name}));w({name:e.name,i:t});var n,a=Object(s.a)(e.players);try{for(a.s();!(n=a.n()).done;){var r=n.value;O({player:r,team:t})}}catch(o){a.e(o)}finally{a.f()}},c=0,l=Object.values(r.teams);c<l.length;c++)o();t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error(t.t0);case 17:p(a);case 18:case"end":return t.stop()}}),t,null,[[4,14]])}))),[e.matchURL,E]);Object(a.useEffect)((function(){W()}),[W]);var F=Object(a.useCallback)(Object(G.a)(z.a.mark((function t(){var n,a,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v){t.next=2;break}return t.abrupt("return");case 2:if(!x||!m.length||o){t.next=4;break}return t.abrupt("return");case 4:n=z.a.mark((function t(n){var a;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!P[n]){t.next=2;break}return t.abrupt("return","continue");case 2:if(a=Me(v,n).then((function(e){d({games:e.games,boardScores:e.board_scores,board:n});var t=e.games[e.games.length-1];if(!t)throw"No game data given";return e.games.length>T?A(e.games.length):e.games.length>=T&&t.end_time&&R({board:n,set:!0}),!0})).catch((function(e){return console.error(e),!e.message.includes("doesn't have board")||!(1!==n||m.length>2)||(i(2===n?n-2:n-1),!1)})),o!==(e.enforceBoards||20)){t.next=9;break}return t.next=6,a;case 6:if(t.t0=t.sent,!1!==t.t0){t.next=9;break}return t.abrupt("return","break");case 9:case"end":return t.stop()}}),t)})),a=1;case 6:if(!(a<o+1)){t.next=17;break}return t.delegateYield(n(a),"t0",8);case 8:r=t.t0,t.t1=r,t.next="continue"===t.t1?12:"break"===t.t1?13:14;break;case 12:return t.abrupt("continue",14);case 13:return t.abrupt("break",17);case 14:a++,t.next=6;break;case 17:case"end":return t.stop()}}),t)}))),[v,o,x,P,m.length,e.enforceBoards,T,A]);if(Object(a.useEffect)((function(){var e=setInterval(F,1e3);return function(){return clearInterval(e)}}),[F]),!m.length&&!o)return r.a.createElement("div",null,"Match has not yet started!");if(!m.length)return r.a.createElement("div",{className:ne.a.loading},r.a.createElement(ae.a,null));var I=m.length?{}:{gridTemplateColumns:"1fr"};return r.a.createElement("div",{className:ne.a.container,style:I},m.map((function(t,n){return r.a.createElement(De,{pairing:t,teamDict:j,teams:E,round:e.round,board:n})})))}function De(e){var t=Object(a.useMemo)((function(){return Object.entries(e.pairing.boardScores)}),[e.pairing.boardScores]),n=Object(a.useState)(e.pairing.games.length-1),o=Object(u.a)(n,2),i=o[0],c=o[1],l=Object(a.useMemo)((function(){return e.pairing.games.map((function(t,n){var a=e.teamDict[t.black.username.toLowerCase()];if(!t.pgn)return null;var o=['[WhiteTeam "'.concat(a?e.teams[0]:e.teams[1],'"]'),'[BlackTeam "'.concat(a?e.teams[1]:e.teams[0],'"]'),'[Board "'.concat(e.board+1,'"]'),'[Game "'.concat(n+1,'"]'),t.pgn.replace('[Round "-"]','[Round "'.concat(e.round,'"]'))].join("\n");return r.a.createElement(xe,{innerHTML:!1,showCoordinates:!0,width:"100%",startAtLatest:!0},o)}))}),[e.pairing.games,e.round,e.teams,e.teamDict]),s=e.pairing.games[i],m=s&&e.teamDict[s.black.username.toLowerCase()]?t.reverse():t;return Object(a.useEffect)((function(){window.dispatchEvent(new Event("resize"))})),i<0?null:r.a.createElement("div",{className:ne.a.wrapper},r.a.createElement("div",{className:ne.a.boardLabel},r.a.createElement(A.a,{className:[ne.a.pan,i?ne.a.active:ne.a.null].join(" "),onClick:function(){return i?c(i-1):null}}),r.a.createElement("span",{className:"bold"},m[0][1]),r.a.createElement("a",{href:"https://www.chess.com/live/game/"+s.url.split("/").pop(),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(A.f,null)),r.a.createElement("span",{className:"bold"},m[1][1]),r.a.createElement(A.b,{className:[ne.a.pan,i===e.pairing.games.length-1?ne.a.null:ne.a.active].join(" "),onClick:function(){return i<e.pairing.games.length-1?c(i+1):null}})),l.map((function(e,t){return r.a.createElement("div",{className:ne.a.gameViewWrapper,style:{visibility:t===i?"visible":"hidden"}},e)})))}var Te=n(107),Ae=n.n(Te);n(108),n(109);function We(e){var t,n,o=Object(a.createRef)(),i=Object(a.useState)(!1),c=Object(u.a)(i,2),l=c[0],s=c[1];Object(a.useEffect)((function(){l&&o.current&&o.current.focus()}),[o,l]);var m=Object(a.useCallback)((function(t){var n=t.nativeEvent,a=t.target,r=a.value,o=r.length,i=e.options.filter((function(t){return e.convert(t).toLowerCase().startsWith(r.toLowerCase())}));if(e.onChange(i),r.trim()&&n.data){var c=i[0];if(c){var l=e.convert(c);a.value=l,a.select(),a.setSelectionRange(o,l.length,"forward")}}}),[e.options]);return r.a.createElement("div",{className:null===(t=e.styles)||void 0===t?void 0:t.scoreSection},r.a.createElement("form",{target:"_self",onInput:function(t){return e.onSubmit(t).then((function(){return s(!0)}))},method:"POST",action:e.action},r.a.createElement("input",{type:"text",className:[null===(n=e.styles)||void 0===n?void 0:n.input].join(" "),name:"value",required:!0,placeholder:e.placeholder||"Search",onInput:m,autoComplete:"off"})))}var Fe={aborted:0,pending:0,scheduled:0,registered:0,live:0,finished:0,confirmed:0};function Ie(e){var t=Object(a.useMemo)((function(){if(!e.matches)return Fe;var t=Object.assign({},Fe,{pending:e.total});return Object.values(e.matches).forEach((function(n){n.round===e.round&&(t[n.status]++,t.pending--)})),t}),[e.matches,e.round,e.total]),n=Object(a.useMemo)((function(){return r.a.createElement(M.a,{type:"Pie",data:{labels:Object.entries(t).map((function(t){var n=Object(u.a)(t,2),a=n[0],r=n[1];return"".concat(a," ").concat(Math.round(100*r/e.total),"% (").concat(r,")")})),series:Object.entries(t).map((function(e){var t=Object(u.a)(e,2);return{meta:t[0],value:t[1]}}))},options:{donut:!0,donutSolid:!0,donutWidth:60,startAngle:270,total:2*e.total,height:400,ignoreEmptyValues:!0,showLabel:!0,labelPosition:"outside"},listener:{draw:function(e){if("slice"===e.type){var t=e.element._node.getTotalLength(),n={"stroke-dashoffset":{id:"anim"+e.index,dur:1e3,from:-t+"px",to:"0px",easing:C.Svg.Easing.easeOutQuint,fill:"freeze",begin:void 0}};0!==e.index&&(n["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-t+"px"}),e.element.animate(n,!1)}}}})}),[t,e.total]);return r.a.createElement("div",{className:"gauge"},n)}var Be=function(){function e(t,n){Object(J.a)(this,e),this.round=n,this.id=void 0,this.w=void 0,this.b=void 0,this.teamID=void 0,this.link=void 0,this.linkSource=void 0,this.linkType=void 0,this.aborted=void 0,this.bodyStatus=void 0,this.metaStatus=void 0,this.registrationTime=void 0,this.startTime=void 0,this.endTime=void 0,this.players=void 0,this.scored=void 0,this.debugStatus=void 0;for(var a=0,r=Object.keys(t);a<r.length;a++){var o=r[a];Object.defineProperty(this,o,{value:t[o]})}this.debugStatus=this.status}return Object(V.a)(e,[{key:"status",get:function(){if(this.aborted)return"aborted";for(var e=0,t=["Confirmed","Finished","Live","Registered","Scheduled"];e<t.length;e++){var n=t[e];if("is"+n in this&&this["is"+n])return n.toLowerCase()}return"pending"}},{key:"isConfirmed",get:function(){return!!this.scored}},{key:"isFinished",get:function(){return!!this.isConfirmed||("finished"===this.bodyStatus||Date.now()>(this.endTime||1/0))}},{key:"isLive",get:function(){return"In Progress"===this.metaStatus||("in_progress"===this.bodyStatus||!!(!this.isFinished&&this.startTime&&Date.now()>this.startTime))}},{key:"isRegistered",get:function(){return Date.now()>(this.registrationTime||1/0)||(!!this.players||(!!this.isLive||!!this.isFinished))}},{key:"isScheduled",get:function(){return Date.now()>(this.startTime||1/0)||(!!this.startTime||("scheduled"===this.bodyStatus||(!!this.isRegistered||!!this.isFinished)))}}]),e}();function Ue(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),o=n[0],i=n[1],c=Object(a.useReducer)((function(e,t){var n=e.slice(0);return e.includes(t)?n.splice(n.indexOf(t)):n.push(t),n}),[]),l=Object(u.a)(c,2),s=l[0],m=l[1],d=Object(a.useState)(!1),h=Object(u.a)(d,2),f=h[0],v=h[1],p=Object(a.useReducer)((function(e,t){var n=Object.assign({},e);return n[t.id]=new Be(t,t.round),n}),{}),b=Object(u.a)(p,2),E=b[0],w=b[1];Object(a.useEffect)((function(){v(!1),g({url:"/tournament/"+e.id+"/getPairings",params:{round:e.round}}).then(i).then((function(){return v(!0)})).catch((function(){}))}),[i,e.round,e.id]);var _=Object(a.useState)([]),j=Object(u.a)(_,2),O=j[0],k=j[1],N=["White","White score","Black","Black score","Game link","Time"],x=Object(a.useState)([]),S=Object(u.a)(x,2),M=S[0],C=S[1],P=Object(a.useCallback)(Object(G.a)(z.a.mark((function t(){var n,a,r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.length){t.next=2;break}return t.abrupt("return");case 2:for(n=e.round.valueOf(),a=function(t){var a,r,i,c=o[t],l=[c[0].trim(),c[1].trim()].join("."),s=e.playerDict.get(c[0].trim()),m=e.playerDict.get(c[1].trim()),d=Object.entries(c[2]).find((function(e){return e}))||[void 0,void 0],h=Object(u.a)(d,2),f=h[0],v=h[1],p=null===(a=v)||void 0===a?void 0:a.match(K);p&&(v="https://www.chess.com/club/matches/live/"+p[1].trim());var b=p?Number(p[1]):void 0,E=(null===s||void 0===s||null===(r=s.histories[e.round])||void 0===r?void 0:r.game)||(null===m||void 0===m||null===(i=m.histories[e.round])||void 0===i?void 0:i.game),y={id:l,teamID:b,link:v,w:s,b:m,round:n,scored:!!E,linkSource:f?f.startsWith("lichess")?"lichess":"chessCom":void 0,linkType:f?f.includes("Team")?"team":"individual":void 0};w(y),b&&Pe(b).catch((function(e){return e&&console.error(e),{}})).then((function(e){return e&&"finished"===e.status?(w(Object.assign(y,{bodyStatus:e.status,startTime:1e3*e.start_time,endTime:e.end_time?1e3*e.end_time:void 0,players:e.boards})),Promise.reject()):e})).then((function(t){g({url:"/tournament/"+e.id+"/scrapeChessComTeamPage",params:{url:v}}).then((function(e){if(!e["Registration Open"]&&!e["Start Time"]&&!e["Finished On"])throw"";w(Object.assign(y,{registrationTime:e["Registration Open"]?new Date(e["Registration Open"]).valueOf():void 0,metaStatus:e.Status,startTime:t&&t.start_time?1e3*t.start_time:e["Start Time"]?new Date(e["Start Time"]).valueOf():void 0,endTime:e["Finished On"]?new Date(e["Finished On"]).valueOf():void 0,players:e["Players per Team"]}))})).catch((function(e){e&&console.error(e),w(Object.assign(y,{aborted:!0}))}))})).catch((function(e){return e?console.error(e):null}))},r=0;r<o.length;r++)a(r);case 5:case"end":return t.stop()}}),t)}))),[o,w,e.id,e.playerDict]);Object(a.useEffect)((function(){P()}),[P]);var R=Object(a.useCallback)((function(t){return t&&t.id?"bye"===t.id?"BYE":"individual"===e.settings.competitors?[t.firstName,t.lastName].join(" "):t.firstName:"\u200b"}),[e.settings.competitors]),L=Object(a.useMemo)((function(){var t=[],n=Object.values(E).map((function(n,a){var o,i,c,l,u,d;if(n.round!==e.round)return null;var h=n.startTime||n.registrationTime,f=new Date(h||0).toString(),v=[R(n.w),null!==(o=null===(i=n.w)||void 0===i||null===(c=i.histories[e.round])||void 0===c?void 0:c.game)&&void 0!==o?o:"",R(n.b),null!==(l=null===(u=n.b)||void 0===u||null===(d=u.histories[e.round])||void 0===d?void 0:d.game)&&void 0!==l?l:"",h?f.slice(0,10)+"\n"+f.slice(16,21):"",n.link];return t[a+1]=v,r.a.createElement(He,{key:["row",a].join("."),data:v,match:n,round:e.round,expanded:s.includes(n.id),setExpanded:m,hidden:!!O.length&&!O.some((function(e){return e.id===n.w.id}))&&!O.some((function(e){return e.id===n.b.id}))})}));return C(t),n}),[o,e.playerDict,R,m,C,s,O,E,e.round]),D=Object(a.useCallback)((function(){var t=document.createElement("a"),n=N.join(",")+"\n"+M.map((function(e){return e.join(",")})).join("\n"),a=new Blob([n],{type:"text/csv"}),r=(e.status.name.match($)||[]).join(""),o=new Date(Date.now()).toString().slice(4,15);t.href=URL.createObjectURL(a),t.download="".concat(r,"_").concat(o,"_").concat([e.round],".").concat("csv"),t.click()}),[M,e.round,N,e.status.name]),T=Object(a.useMemo)((function(){return r.a.createElement(Ie,{matches:E,round:e.round,total:o.length})}),[E,e.round,o]);return r.a.createElement("section",null,T,r.a.createElement("div",{className:y.a.subheader},r.a.createElement("div",null,"All times in ",new Date(Date.now()).toString().slice(25)),r.a.createElement("div",{className:["button"].join(" "),onClick:D},r.a.createElement("div",null,r.a.createElement(A.l,null)),r.a.createElement("div",null,"Download")),r.a.createElement("div",null,r.a.createElement("div",{className:y.a.searchBar},r.a.createElement(A.s,null),r.a.createElement(We,{onChange:function(e){return k(e)},onSubmit:function(){return Promise.resolve()},action:"",options:Array.from(e.playerDict.values()),convert:function(e){return R(e)},styles:y.a,placeholder:"Search"})))),r.a.createElement("table",{className:"download-table full-width pairings"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{width:"27.5%"}},"White"),r.a.createElement("td",{style:{width:"12.5%"}},"Link"),r.a.createElement("td",{style:{width:"5%"}}),r.a.createElement("td",{style:{width:"10%"}},"Start Time"),r.a.createElement("td",{style:{width:"5%"}}),r.a.createElement("td",{style:{width:"12.5%"}},"Watch Live"),r.a.createElement("td",{style:{width:"27.5%"}},"Black"))),r.a.createElement("tbody",null,f&&!o.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:100},"Draw has not yet taken place!")):null,L)))}function He(e){var t,n,a=e.match,o=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:["row"].join("."),style:{display:e.hidden?"none":void 0}},r.a.createElement("td",{id:null===(t=a.w)||void 0===t?void 0:t.id,onClick:function(){var e;return window.location.hash="#"+(null===(e=a.w)||void 0===e?void 0:e.id)}},r.a.createElement("div",{className:"playerName"},o[0])),r.a.createElement("td",{className:y.a.inner},a.link?r.a.createElement("a",{className:"button",href:a.link,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(A.o,null),r.a.createElement("div",null,"chess.com")):null),r.a.createElement("td",{className:y.a.inner},r.a.createElement("div",{className:["bold",y.a.score,y.a[a.status],a.status].join(" ")},o[1])),r.a.createElement("td",{style:{whiteSpace:"pre-line"}},o[4]||"-"),r.a.createElement("td",{className:y.a.inner},r.a.createElement("div",{className:["bold",y.a.score,y.a[a.status],a.status].join(" ")},o[3])),r.a.createElement("td",{className:y.a.inner},a.link&&a.isRegistered?r.a.createElement("div",{className:"button",onClick:function(){return a.isFinished?e.setExpanded(a.id):null}},a.isFinished?r.a.createElement("div",null,"Analysis"):r.a.createElement(r.a.Fragment,null,a.isLive?r.a.createElement("img",{className:"icon",src:Ae.a,alt:"Watch games"}):r.a.createElement(A.f,null),r.a.createElement("a",{href:"https://www.chess.com/live#tm="+a.teamID,target:"_blank",rel:"noopener noreferrer"},a.isLive?" Watch live":"Join Game"))):null),r.a.createElement("td",{id:null===(n=a.b)||void 0===n?void 0:n.id,onClick:function(){var e;return window.location.hash="#"+(null===(e=a.b)||void 0===e?void 0:e.id)}},r.a.createElement("div",{className:"playerName"},o[2]))),a.link&&e.expanded?r.a.createElement("tr",{key:["row","dropdown"].join(".")},r.a.createElement("td",{colSpan:100},"chessCom"===a.linkSource&&"team"===a.linkType?r.a.createElement(Le,{matchURL:a.link,enforceBoards:a.players?Number(a.players):0,round:e.round}):null)):null)}var qe=n(80),ze=n(12),Ge=n.n(ze),Je=n(43);function Ve(e){var t=Object(a.useState)(null),n=Object(u.a)(t,2),o=n[0],i=(n[1],(e.streamURL||"").match(Q));i||(i=["",""]);var c=i.slice(1),l=Object(u.a)(c,2),s=l[0],m=l[1],d=s.split(".").shift(),h=Object(a.useMemo)((function(){return r.a.createElement(qe.b,{id:Ge.a.twitchPlayer,channel:m,autoplay:!0,width:"100%",height:"640px"})}),[m]),f=Object(a.useRef)(null),v=Object(a.useCallback)((function(){f.current&&e.pop(f.current)}),[e.pop,f]);return r.a.createElement("div",{className:Ge.a.container},"twitch"===d?r.a.createElement("section",null,r.a.createElement("div",{className:Ge.a.streamHeader},r.a.createElement(A.v,null),r.a.createElement("span",{className:"bold"},m),r.a.createElement("div",{className:"button",onClick:v},"Pop-out",r.a.createElement(Je.b,null))),r.a.createElement("div",{className:Ge.a.streamContainer},r.a.createElement("div",{id:Ge.a.twitchPlayer,ref:f,className:[Ge.a.player,o?Ge.a.popped:""].join(" ")}),r.a.createElement("div",{className:[Ge.a.player].join(" "),style:{display:o?"flex":"none"}}),r.a.createElement("div",{id:Ge.a.twitchChat,className:Ge.a.chat},r.a.createElement(qe.a,{channel:m,width:"100%",height:"100%"})))):null,"youtube"===d?r.a.createElement("section",null,r.a.createElement("div",{className:Ge.a.streamHeader},r.a.createElement(A.z,null),r.a.createElement("span",{className:"bold"},"chess-england")),r.a.createElement("div",{className:Ge.a.streamContainer},r.a.createElement("div",{id:Ge.a.youtubePlayer,className:Ge.a.player},r.a.createElement("iframe",{title:"youtubePlayer",width:.66*Math.min(window.innerWidth-40,980),height:Math.min(window.innerWidth-40,980)/2.73,src:"https://www.youtube.com/embed/R2v-XSRMOFo",frameBorder:0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),r.a.createElement("div",{id:Ge.a.youtubeChat,className:[Ge.a.chat,Ge.a.youtubeChat].join(" ")},r.a.createElement("iframe",{title:"youtubeChat",width:.31*Math.min(window.innerWidth-40,980),height:"315",src:"https://www.youtube.com/live_chat?v=R2v-XSRMOFo&embed_domain=localhost",frameBorder:0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))):null,r.a.createElement("div",{className:Ge.a.footer},"If you're having problems viewing this player, try disabling any extensions or Brave Shields if you have them enabled."),r.a.createElement("div",{className:"hidden"},h))}function Xe(e){var t,n=e.match.params.id,o=Object(a.useState)(void 0),i=Object(u.a)(o,2),c=i[0],m=i[1],d=Object(a.useState)({}),h=Object(u.a)(d,2),f=h[0],v=h[1],p=Object(a.useState)({}),b=Object(u.a)(p,2),E=b[0],w=b[1],y=Object(a.useState)([]),j=Object(u.a)(y,2),O=j[0],k=j[1],N=Object(a.useMemo)((function(){return e.history.location.state&&"/"===e.history.location.state.from}),[e.history.action]),S=Object(a.useState)(null),M=Object(u.a)(S,2),C=M[0],P=M[1],R=Object(a.useMemo)((function(){if(!O.length)return new Map;var e,t=new Map,n=Object(s.a)(O);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.set(a.id,a)}}catch(r){n.e(r)}finally{n.f()}return t}),[O]),L=E.round||0;return Object(a.useEffect)((function(){g({url:"/tournament/"+n+"/getSettings"}).then(v)}),[v,n]),Object(a.useEffect)((function(){g({url:"/tournament/"+n+"/getStatus"}).then(w).then((function(){return m(!0)})).catch((function(){return m(!1)}))}),[w,m]),Object(a.useEffect)((function(){g({url:"/tournament/"+n+"/fetchPlayers"}).then(k)}),[k,n]),Object(a.useEffect)((function(){if(L){for(var e=new Array(L+1),t=1;t<L+1;t++)e[t]={match:0,game:0};R.set("bye",{id:"bye",firstName:"BYE",histories:e})}}),[R,L]),"undefined"===typeof c?null:c?r.a.createElement("div",{id:"main",className:N?"animated-right":""},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:U.a.container},r.a.createElement("div",{className:U.a.profilePicture},f.logoURL?r.a.createElement("img",{src:f.logoURL}):r.a.createElement("div",{className:U.a.defaultProfilePicture},null===(t=E.name.match($))||void 0===t?void 0:t.map((function(e){return e.substring(0,1).toUpperCase()})).join(""))),r.a.createElement("div",null,r.a.createElement("h1",null,E.name)),r.a.createElement("div",null,f.profileURL?r.a.createElement("a",{className:["header-button",U.a.website].join(" "),href:f.profileURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(A.o,null)," Website"):null,f.rulesURL?r.a.createElement("a",{className:["header-button",U.a.website].join(" "),href:f.rulesURL,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(H.a,null)," Rules"):null)),r.a.createElement("section",null,r.a.createElement(l.b,{path:"/:id/:section/:round?/",render:function(t){var n=parseInt(t.match.params.round);return isNaN(n)&&(n=E.round),n<0||n>f.totalRounds?null:r.a.createElement(_,{section:t.match.params.section,round:n,id:e.match.params.id,playerDict:R,status:E,settings:f})}}),r.a.createElement(l.b,{render:function(t){var n=t.location;return r.a.createElement(l.d,{location:n},r.a.createElement(l.b,{exact:!0,path:"/:id/",render:function(){return r.a.createElement(l.a,{push:!0,to:{pathname:"/".concat(f.vanityURL||e.match.params.id,"/pairings"),state:e.history.location.state}})}}),r.a.createElement(l.b,{path:"/:id/stats/",render:function(){return r.a.createElement(F,{round:E.round,status:E,players:Array.from(R.values()),settings:f})}}),r.a.createElement(l.b,{path:"/:id/tv/",render:function(){return r.a.createElement(Ve,{streamURL:f.streamURL,pop:P})}}),r.a.createElement(l.b,{exact:!0,path:"/:id/:section/",render:function(t){return r.a.createElement(l.a,{push:!0,to:{pathname:t.match.url+(t.match.url.endsWith("/")?"":"/")+E.round,state:e.history.location.state}})}}),r.a.createElement(l.b,{path:"/:id/pairings/:round",render:function(t){var n=parseInt(t.match.params.round);return isNaN(n)||n<0||n>f.totalRounds?null:r.a.createElement(Ue,{round:n,id:e.match.params.id,playerDict:R,status:E,settings:f})}}),r.a.createElement(l.b,{path:"/:id/standings/:round",render:function(e){var t=parseInt(e.match.params.round);return isNaN(t)||t<0||t>f.totalRounds?null:r.a.createElement(x,{round:t,setDisplayPlayer:function(){},show:function(){},status:E,players:Array.from(R.values()),settings:f})}}),r.a.createElement(l.b,{path:"/:id/*",component:I,status:404}))}})),r.a.createElement("div",{className:"popped",style:{visibility:C?"visible":"hidden"}},r.a.createElement("div",{onClick:function(){return P(null)}},r.a.createElement(A.y,null)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:(null===C||void 0===C?void 0:C.outerHTML)||""}})))):r.a.createElement(I,null)}var Ye=n(144),Ke=n.n(Ye),Qe=n(10),Ze=n.n(Qe),$e=n(146),et=n(145),tt=n.n(et),nt=n(77),at=new(n.n(nt).a.ProcessNodeDefinitions)(r.a),rt=tt()({isValidNode:function(e){return"script"!==e.type},processingInstructions:[{shouldProcessNode:function(e){return!0},processNode:at.processDefaultNode}]});function ot(e){return Z.test(e.href)?r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.stopPropagation()}},e.children):r.a.createElement(c.b,{to:{pathname:e.href,state:{from:window.location.href.toString()}}},e.children)}var it=0;function ct(e){var t=Object(a.useState)({}),n=Object(u.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)([]),s=Object(u.a)(l,2),m=s[0],d=s[1],h=Object(a.useState)({}),f=Object(u.a)(h,2),v=f[0],p=f[1],b=Object(a.useMemo)((function(){return e.history.location.state&&e.history.location.state.from}),[e.history.action]),w=Object(a.useCallback)((function(){return g({url:"/tournaments"}).then(i)}),[i]),y=Object(a.useCallback)((function(){return g({url:"/notifications"}).then((function(e){return d(e.sort((function(e,t){return new Date(t.createdAt).valueOf()-new Date(e.createdAt).valueOf()})))}))}),[d]);return Object(a.useEffect)((function(){w(),y()}),[w,y]),Object(a.useEffect)((function(){E.on("connected_count",(function(e){return it=e}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"main",className:b?"animated-left":""},r.a.createElement("div",{className:Ze.a.container},r.a.createElement("div",{className:Ze.a.title},r.a.createElement("h1",null,r.a.createElement("span",{className:"bold"},"Results")," by ScorchChess"),r.a.createElement("h3",null,"Your universal platform for results and pairings. Attractive. Automated. Effortless.")),r.a.createElement("div",{className:[Ze.a.section,Ze.a.announcements].join(" ")},r.a.createElement("table",{className:["download-table",Ze.a.tableAnnounce].join(" ")},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Ze.a.sectionHeader,colSpan:3},"Announcements"))),r.a.createElement("tbody",null,m.map((function(e,t){var n=r.a.createElement(Je.a,null),a=(e.link||"").match(Z);if(a)switch(a[1]){case"facebook.com":n=r.a.createElement(A.m,null);break;case"twitter.com":n=r.a.createElement(A.w,null);break;case"twitch.tv":n=r.a.createElement(A.v,null);break;case"github.com":n=r.a.createElement(A.n,null)}return r.a.createElement("tr",{className:Ze.a.notificationRow,key:["notification",t].join(".")},r.a.createElement("td",null,r.a.createElement("div",{onClick:function(){return v.id===e.id?p({}):p(e)}},e.link?r.a.createElement("a",{className:Ze.a.iconLink,href:e.link,rel:"noopener noreferrer",target:"_blank"},n):r.a.createElement("div",null,"icon"),r.a.createElement("div",null,r.a.createElement("span",{className:"bold"},e.title)),r.a.createElement("div",{className:Ze.a.notifContent},e.content),r.a.createElement("div",{className:Ze.a.expando},r.a.createElement(A.b,null)))))})),r.a.createElement("tr",null,r.a.createElement("th",null,"\u200b"))))),r.a.createElement("div",{className:[Ze.a.section,Ze.a.tournaments].join(" ")},r.a.createElement("table",{className:"download-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:Ze.a.sectionHeader},"Public Tournaments"))),r.a.createElement("tbody",null,Object.entries(o).map((function(t,n){var a=Object(u.a)(t,2),o=a[0],i=a[1];return r.a.createElement("tr",{key:[i,n].join(".")},r.a.createElement("td",null,r.a.createElement(c.b,{className:Ze.a.tournamentLink,to:{pathname:"/"+o,state:{from:e.location.pathname}}},i,r.a.createElement(A.b,null))))})),r.a.createElement("tr",null,r.a.createElement("th",null,"\u200b"))))),r.a.createElement("div",{className:E.connected?Ze.a.connected:Ze.a.disconnected},r.a.createElement($e.a,null)," ",it||"-"," users online"),r.a.createElement("a",{href:"https://beta.scorchapp.co.uk",rel:"noopener noreferrer",target:"_blank",className:["header-button",Ze.a.new].join(" ")},"Create New Tournament",r.a.createElement(A.b,null)))),function(){var e=v;if(!e.id)return null;var t,n=r.a.createElement(Je.a,null),a=(e.link||"").match(Z);if(a)switch(a[1]){case"facebook.com":n=r.a.createElement(A.m,null);break;case"twitter.com":n=r.a.createElement(A.w,null);break;case"twitch.tv":n=r.a.createElement(A.v,null);break;case"github.com":n=r.a.createElement(A.n,null)}return r.a.createElement("div",{className:Ze.a.lightBox,onClick:function(){return p({})}},r.a.createElement("div",{className:[Ze.a.section].join(" ")},r.a.createElement("div",{className:Ze.a.lightBoxTitle},r.a.createElement("div",null,e.link?r.a.createElement("a",{className:Ze.a.iconLink,href:e.link,rel:"noopener noreferrer",target:"_blank"},n):r.a.createElement("div",null,"icon")),r.a.createElement("div",null,v.title)),r.a.createElement("div",{className:Ze.a.lightBoxContent,onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ke.a,{source:e.content.trim()+(e.link?"\n\n[".concat(e.link,"](").concat(e.link,")"):""),escapeHtml:!1,astPlugins:[rt],renderers:{link:ot}})),r.a.createElement("div",{className:Ze.a.dateTime},(t=e.role)?t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase():t," Announcement | ",new Date(e.createdAt).toString().slice(0,21))))}())}function lt(){var e=navigator.userAgent||navigator.vendor||"";return!!ee[0].test(e)||!!ee[1].test(e.substr(0,4))}var st=n(25),ut=n.n(st);function mt(e){return r.a.createElement("div",{className:ut.a.header},r.a.createElement(c.b,{to:{pathname:"/",state:{from:window.location.toString()}},className:ut.a.logoWrapper},r.a.createElement("img",{src:"/favicon.png",className:ut.a.logo,alt:"logo"})),lt()?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:{pathname:"/",state:{from:window.location.toString()}},className:ut.a.nameWrapper},r.a.createElement("div",{className:ut.a.name},r.a.createElement("span",{className:"bold"},"Results")," by ScorchChess")),r.a.createElement("div",{className:ut.a.buttonContainer},[{name:"More on ScorchChess",url:"https://scorchapp.co.uk"},{name:"ScorchApp on Desktop",url:"https://beta.scorchapp.co.uk"}].map((function(e,t){return e.url.startsWith("/")?r.a.createElement(c.b,{key:["headerLink",t].join("."),className:ut.a.button,to:{pathname:e.url,state:{from:window.location.toString()}}},e.name):r.a.createElement("a",{key:["headerLink",t].join("."),className:ut.a.button,href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)})))))}var dt=["pairings","standings","stats"],ht=Date.now(),ft="",vt="";function pt(e){"PUSH"===e.history.action&&E.connected&&E.emit("public_page",{section:ft,tournament:vt,time:(Date.now()-ht)/6e4,mobile:lt()});var t=dt.find((function(t){return e.location.pathname.includes(t)}))||"",n=e.match.params.id||"/";ht=Date.now(),ft=t,vt=n}var bt=function(){return r.a.createElement(c.a,{basename:""},r.a.createElement(mt,{setID:function(){}}),r.a.createElement(l.b,{render:function(e){var t=e.location;return r.a.createElement(l.d,{location:t},r.a.createElement(l.b,{exact:!0,path:"/",render:function(e){return pt(e),r.a.createElement(ct,e)}}),r.a.createElement(l.b,{path:"/tournament/:id/",render:function(e){return r.a.createElement(l.a,{to:e.location.pathname.slice(11)})}}),r.a.createElement(l.b,{path:"/:id/",render:function(e){return pt(e),r.a.createElement(Xe,e)}}),r.a.createElement(l.b,{path:"*",component:I,status:404}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,n){e.exports={container:"nav_container__3pU4W",profilePicture:"nav_profilePicture__141LM",website:"nav_website__2OLjk",defaultProfilePicture:"nav_defaultProfilePicture__2vO-7"}},54:function(e){e.exports=JSON.parse('{"b":"http://localhost:8080/","a":"https://api.scorchapp.co.uk/","c":true}')},57:function(e,t,n){},9:function(e,t,n){e.exports={score:"pairings_score__jjzQc",confirmed:"pairings_confirmed__3JGB8",finished:"pairings_finished__3bXeo",live:"pairings_live__2FsMM",registered:"pairings_registered__3HdoN",scheduled:"pairings_scheduled__KBDmy",pending:"pairings_pending__3Geg4",aborted:"pairings_aborted__3FarP",pairingRound:"pairings_pairingRound__1LPA4",roundSelected:"pairings_roundSelected__3u_UO",nullRound:"pairings_nullRound__PaO8W",inner:"pairings_inner__1dqLU",subheader:"pairings_subheader__2Howu",searchBar:"pairings_searchBar__1ruUx",description:"pairings_description__1Wwzz",buttonList:"pairings_buttonList__3R6LZ"}}},[[147,1,2]]]);
//# sourceMappingURL=main.7542b6ba.chunk.js.map